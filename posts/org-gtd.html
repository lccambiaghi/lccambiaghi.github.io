<!doctype html>
<html lang="en-us" class=scroll-smooth data-default-appearance=light data-auto-appearance=true>
  <head>
    
    <!-- Clicky -->
    <script>var clicky_site_ids = clicky_site_ids || []; clicky_site_ids.push(101320555);</script>
    <script async src="//static.getclicky.com/js"></script>
    <!-- Clicky -->
    <meta charset="utf-8">
    <title>Luca's blog - Home</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Luca Cambiaghi" />
    <meta name="description" content="Luca&#39;s blog" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://lucacambiaghi.com/static/style.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <script async src="https://talk.hyvor.com/embed/embed.js" type="module"></script>
    <script type=text/javascript src="https://lucacambiaghi.com/static//js/appearance.js"></script>
    <script defer type=text/javascript id=script-bundle src="https://lucacambiaghi.com/static//js/main.js" data-copy=Copy data-copied=Copied></script>
    
  </head>

  <body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 bg-neutral text-neutral-900 sm:px-14 md:px-24 lg:px-32 dark:bg-neutral-800 dark:text-neutral max-w-7xl">
    
    <div id=the-top class="absolute flex self-center">
  <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 dark:bg-neutral-600 focus:translate-y-0" href=#main-content>
    <span class="font-bold ltr:pr-2 rtl:pl-2 text-primary-600 dark:text-primary-400">&darr;
    </span>Skip to main content
  </a>
</div>

<header class="flex justify-between py-6 font-semibold sm:items-center sm:py-10 text-neutral-900 dark:text-neutral print:hidden">
  <div><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href="/index.html">Luca</a></div>
<nav>
  <ul class="flex list-none sm:flex-row">
    <li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
      <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href="/posts.html">posts</a>
    </li>
    <span class="px-2 text-primary-500">&#183;</span>
    <li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
      <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href="/emacsd.html">emacs</a>
    </li>
    <span class="px-2 text-primary-500">&#183;</span>
    <li class="mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
      <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" href="/nix.html">nix</a>
    </li>
  </ul>
</nav>
</header>

    

    <main id="main" class="relative grow">
      
<article class="post">
  <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
    My simple org mode system
  </h1>
  <div class="mt-8 mb-8 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
    <div class="flex flex-row flex-wrap items-center">
      <time> Mar 29, 2021
      </time>
      <span class="px-2 text-primary-500">&#183;</span>
      <span title="tags">(emacs org)
      </span>
    </div>
  </div>

  <section class="flex flex-col max-w-full mt-0 prose lg:flex-row dark:prose-invert">
    <div class="min-w-0 min-h-0 max-w-prose">
      
<div id="outline-container-org05283ba" class="outline-2">
<h2 id="org05283ba">Organize your life</h2>
<div class="outline-text-2" id="text-org05283ba">
<p>
Org mode has so many useful features, in this year of Emacs I integrated the following in my life:
</p>
<ul class="org-ul">
<li>Literate emacs configuration (you can see the HTMl export of mine <a href="https://lucacambiaghi.com/vanilla-emacs/readme.html">here</a> )</li>
<li>Literate programming (explained in <a href="https://lucacambiaghi.com/posts/think-stats.html">this previous blog post</a>)</li>
<li>Publish a static blog (explained in <a href="https://lucacambiaghi.com/posts/weblorg.html">this previous blog post</a>)</li>
<li>Knowledge library</li>
<li>Task management</li>
</ul>

<p>
In this post I will focus on the GTD (Getting Things Done) org facilities and how I interface with them.
</p>

<p>
The first org mode abstraction is an headline with a TODO  status.
The first natural step is then to create an org file (e.g. <code>todos.org</code>) where we can monitor our TODO headings.
When we complete one, we set it to DONE and archive it with <code>org-archive-subtree</code>.
</p>

<p>
Example file:
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-org-level-1">* </span><span class="org-org-level-1"><span class="org-org-todo">TODO</span></span><span class="org-org-level-1"> finish to write slides </span>
<span class="org-org-level-1">* </span><span class="org-org-level-1"><span class="org-org-done">DONE</span></span><span class="org-org-level-1"> </span><span class="org-org-level-1"><span class="org-org-headline-done">add docs</span></span><span class="org-org-level-1"> </span>
</pre>
</div>

<p>
This all sounds great, except..
</p>
<ol class="org-ol">
<li>I don't know what tasks are important</li>
<li>I forget to check the file for days, also forgetting tasks</li>
<li>I am not good at capturing my tasks in this file during my day.</li>
</ol>

<p>
Solving any of these 3 problems is useless, we need to solve all three of them.
</p>

<p>
Problem 1. is solved by scheduling a task.
You commit to do a task on a certain day (e.g. today, or tomorrow. Why wait?) and you execute <code>org-schedule</code> on that heading.
</p>

<div class="org-src-container">
<pre class="src src-org"> * TODO finish to write slides 
<span class="org-org-special-keyword">SCHEDULED:</span> <span class="org-org-date">&lt;2021-03-02 Tue&gt;</span>
 * DONE add docs 
</pre>
</div>

<p>
This leads to the next big org abstraction, the agenda!
When you call <code>org-agenda-list</code> you will see all the <b>scheduled</b> TODOs for the week (including the task you just scheduled for today).
This is now your <i>agenda</i>, it would be great to follow it and to complete the tasks that you have just marked as important!
</p>

<p>
Let's tackle problem 2. by introducing habits!! Let's say we want to check our <code>todos.org</code> every 3 days?
Then we can mark it as an habit:
</p>
<div class="org-src-container">
<pre class="src src-org"> * TODO finish to write slides 
<span class="org-org-special-keyword">SCHEDULED:</span> <span class="org-org-date">&lt;2021-01-24 Tue&gt;</span>
 * DONE add docs 
 * TODO Check todos.org (start with #inbox)
<span class="org-org-special-keyword">SCHEDULED:</span> <span class="org-org-date">&lt;2021-01-24 Sun .+2d/4d&gt;</span>
<span class="org-org-drawer">:PROPERTIES:</span>
<span class="org-org-special-keyword">:STYLE:</span>    <span class="org-org-property-value">habit</span>
<span class="org-org-special-keyword">:LAST_REPEAT:</span> <span class="org-org-date">[2021-01-22 Fri 18:08]</span>
<span class="org-org-drawer">:END:</span>
- State "DONE"       from "TODO"       <span class="org-org-date">[2021-01-22 Fri 18:08]</span>
- State "DONE"       from "TODO"       <span class="org-org-date">[2021-01-18 Mon 20:53]</span>
- State "DONE"       from "TODO"       <span class="org-org-date">[2021-01-17 Sun 21:40]</span>
</pre>
</div>

<p>
Now it will be scheduled in the agenda once every 3 days..
Now, if we only weren't so bad at checking our agendas&#x2026;
</p>
</div>
</div>

<div id="outline-container-orgdefb099" class="outline-2">
<h2 id="orgdefb099">Show agenda in emacs-dashboard</h2>
<div class="outline-text-2" id="text-orgdefb099">
<p>
In the previous section we introduced the fundamental blocks of org GTD system: scheduled
tasks, habits and the agenda.
</p>

<p>
I use the <code>dashboard</code> package so that my first buffer is a "dashboard" which provides
a quick access to weekly agenda and my next tasks.
</p>
<img src="../static/img/dashboard-agenda.png" alt="Dashboard with agenda section" style="margin:auto; width:80%;" />

<p>
Here is my configuration for the package (you can read the up-to-date configuration <a href="https://lucacambiaghi.com/vanilla-emacs/readme.html#h:2F4C0A6C-96BE-4818-B794-D1593C23FB00">here</a>):
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> <span class="org-constant">dashboard</span>
  <span class="org-builtin">:demand</span>
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> initial-buffer-choice (<span class="org-keyword">lambda</span> () (get-buffer <span class="org-string">"*dashboard*"</span>)))
  (<span class="org-keyword">setq</span> dashboard-center-content t)
  (<span class="org-keyword">setq</span> dashboard-projects-backend 'projectile)
  (<span class="org-keyword">setq</span> dashboard-set-heading-icons t)
  (<span class="org-keyword">setq</span> dashboard-set-file-icons t)
  (<span class="org-keyword">setq</span> dashboard-banner-logo-title nil)
  (<span class="org-keyword">setq</span> dashboard-set-footer nil)
  (<span class="org-keyword">setq</span> dashboard-set-navigator t)
  (<span class="org-keyword">defun</span> <span class="org-function-name">lc/is-after-17-or-weekends?</span> ()
    (<span class="org-keyword">or</span> (<span class="org-keyword">-&gt;</span> (nth 3 (split-string (current-time-string) <span class="org-string">" "</span>)) <span class="org-comment-delimiter">; </span><span class="org-comment">time of the day e.g. 18</span>
            (substring 0 2)
            (string-to-number)
            (&gt; 16))
        (<span class="org-keyword">-&gt;</span> (substring (current-time-string) 0 3) <span class="org-comment-delimiter">; </span><span class="org-comment">day of the week e.g. Fri</span>
            (member  '(<span class="org-string">"Sat"</span> <span class="org-string">"Sun"</span>)))))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">exclude work items after 17 and on weekends</span>
  (run-at-time <span class="org-string">"00:00"</span> (* 60 60 24)
               (<span class="org-keyword">lambda</span> ()
                 (<span class="org-keyword">if</span> (lc/is-after-17-or-weekends?)
                     (<span class="org-keyword">setq</span> dashboard-match-agenda-entry <span class="org-string">"life|habits"</span>
                           dashboard-match-next-entry <span class="org-string">"TODO=\"NEXT\"-work"</span>)
                   (<span class="org-keyword">setq</span> dashboard-match-agenda-entry <span class="org-string">"work|life|habits"</span>
                         dashboard-match-next-entry <span class="org-string">"TODO=\"NEXT\""</span>))))
        <span class="org-comment-delimiter">;; </span><span class="org-comment">buttons above agenda</span>
  (<span class="org-keyword">setq</span> dashboard-navigator-buttons
        `((<span class="org-comment-delimiter">;; </span><span class="org-comment">Github</span>
           (,(all-the-icons-octicon <span class="org-string">"mark-github"</span> <span class="org-builtin">:height</span> 1.1 <span class="org-builtin">:v-adjust</span> 0.0)
            <span class="org-string">"Github"</span>
            <span class="org-string">"Go to wondercast"</span>
            (<span class="org-keyword">lambda</span> (<span class="org-type">&amp;rest</span> _) (browse-url <span class="org-string">"https://github.com/Maersk-Global/wondercast"</span>)))
           <span class="org-comment-delimiter">;; </span><span class="org-comment">Codebase</span>
           (,(all-the-icons-faicon <span class="org-string">"briefcase"</span> <span class="org-builtin">:height</span> 1.1 <span class="org-builtin">:v-adjust</span> -0.1)
            <span class="org-string">"JIRA"</span>
            <span class="org-string">"Go to Kanban"</span>
            (<span class="org-keyword">lambda</span> (<span class="org-type">&amp;rest</span> _) (browse-url <span class="org-string">"https://jira.maerskdev.net/secure/RapidBoard.jspa?rapidView=6378&amp;projectKey=AVOC&amp;quickFilter=15697"</span>)))
           <span class="org-comment-delimiter">;; </span><span class="org-comment">Perspectives</span>
           (,(all-the-icons-octicon <span class="org-string">"history"</span> <span class="org-builtin">:height</span> 1.1 <span class="org-builtin">:v-adjust</span> 0.0)
            <span class="org-string">"Restore"</span>
            <span class="org-string">"Restore"</span>
            (<span class="org-keyword">lambda</span> (<span class="org-type">&amp;rest</span> _) (persp-state-load persp-state-default-file)))
           )))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">show next tasks in dashboard</span>
  (<span class="org-keyword">defun</span> <span class="org-function-name">lc/dashboard-get-next</span> ()
    <span class="org-doc">"Get agenda items for today or for a week from now."</span>
    (org-compile-prefix-format 'agenda)
    (org-map-entries 'dashboard-agenda-entry-format
                     dashboard-match-next-entry
                     'agenda))
  (<span class="org-keyword">defun</span> <span class="org-function-name">lc/dashboard-insert-next</span> (list-size)
    <span class="org-doc">"Add the list of LIST-SIZE items of next tasks"</span>
    (<span class="org-keyword">require</span> '<span class="org-constant">org-agenda</span>)
    (<span class="org-keyword">let</span> ((next (lc/dashboard-get-next)))
      (dashboard-insert-section
       <span class="org-string">"Next tasks"</span>
       next
       list-size
       <span class="org-string">"n"</span>
       `(<span class="org-keyword">lambda</span> (<span class="org-type">&amp;rest</span> ignore)
          (<span class="org-keyword">let</span> ((buffer (find-file-other-window (nth 2 ',el))))
            (<span class="org-keyword">with-current-buffer</span> buffer
              (goto-char (nth 1 ',el))
              (switch-to-buffer buffer))))
       (format <span class="org-string">"%s"</span> (nth 0 el)))))
  <span class="org-builtin">:config</span>
  (dashboard-setup-startup-hook)
  (set-face-attribute 'dashboard-items-face nil <span class="org-builtin">:height</span> (lc/get-font-size))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">show next tasks in dashboard</span>
  (add-to-list 'dashboard-item-generators  '(next . lc/dashboard-insert-next))
  (<span class="org-keyword">setq</span> dashboard-items '((agenda . 5)
                          (next . 5)
                          (projects . 5))))
</pre>
</div>

<p>
There are a few useful features here:
</p>
<ul class="org-ul">
<li>Show weekly agenda, i.e. tasks that I have scheduled for the coming week.</li>
<li>Filter agenda items according to time of day and day of week. Today is Sunday so in the screenshot you don't see my work tasks.</li>
<li>Show "NEXT" unscheduled tasks. Think of these tasks as your backlog, the next tasks you should schedule.</li>
<li>BONUS: nice buttons that brings you to a website or restore the latest session (if you want to know more about this one, read <a href="https://lucacambiaghi.com/vanilla-emacs/readme.html#h:6E4E5BD6-1930-4DCE-8E26-5ADAC2B9A152">here</a>).</li>
</ul>

<p>
The dashboard is the reminder to myself about my tasks.
When I start up Emacs, I will find my tasks staring right at me.
If I am in a good mood, I will review my <code>todo.org</code> file, schedule some more, put some to "DONE".
</p>
</div>
</div>

<div id="outline-container-org9edbfd0" class="outline-2">
<h2 id="org9edbfd0">Categorize tasks</h2>
<div class="outline-text-2" id="text-org9edbfd0">
<p>
As mentioned, I keep all my tasks in one file called <code>todo.org</code>, which is included in my <code>org-agenda-files</code>.
</p>

<p>
I categorize my tasks in "projects".
Two example projects are "Life" and "Work".
</p>

<p>
Each project is then categorized in subprojects.
An example subproject for "Work" could be a user story I am working on.
For a subproject I would have individual headings corresponding to tasks.
</p>

<p>
Here a practical example:
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="org-org-level-1">* Work </span><span class="org-org-level-1"><span class="org-org-checkbox-statistics-todo">[0/2]</span></span>
<span class="org-org-drawer">:PROPERTIES:</span>
<span class="org-org-special-keyword">:COOKIE_DATA:</span> <span class="org-org-property-value">todo recursive</span>
<span class="org-org-special-keyword">:CATEGORY:</span> <span class="org-org-property-value">work</span>
<span class="org-org-drawer">:END:</span>
<span class="org-org-level-2">** Recursive least squares model </span><span class="org-org-level-2"><span class="org-org-checkbox-statistics-todo">[0/2]</span></span>
<span class="org-org-level-3">*** </span><span class="org-org-level-3"><span class="org-org-todo">TODO</span></span><span class="org-org-level-3"> Implement RLS model</span>
<span class="org-org-level-3">*** </span><span class="org-org-level-3"><span class="org-org-todo">TODO</span></span><span class="org-org-level-3"> Validate results</span>
</pre>
</div>

<p>
So we model user stories as subheadings and we categorize them within "projects".
</p>

<p>
Some details:
</p>
<ul class="org-ul">
<li>The header properties set the category to work. The <code>recursive</code> part make it so that subheadings/subprojects can inherit it.</li>
<li>If you put <code>[/]</code> in your header title, you will get for free a count of how many you have completed and the total.</li>
</ul>

<p>
The <code>work</code> category can then be used to filter agenda views like described in the previous section.
</p>
</div>
</div>

<div id="outline-container-org17519a2" class="outline-2">
<h2 id="org17519a2">Agenda and notifications on your iPhone</h2>
<div class="outline-text-2" id="text-org17519a2">
<p>
Ok, the system we configured on Emacs seems pretty solid.
What about when we are away from the laptop?
</p>

<p>
Wouldn't it be great to be able to view your agenda on the go, get push notifications?
The <a href="https://beorgapp.com">BeOrg</a> app for iOS goes pretty close to what I need from it.
</p>

<p>
I keep my <code>org</code> folder on Dropbox and version control.
BeOrg can sync from Dropbox without hassle.
I hardly ever edit files on the go, I neved had a Dropbox conflict.
</p>

<p>
I can see my agenda (same that I see in the dashboard) and I get notifications for scheduled tasks.
I can read org files on the go, nice to quickly check up on some notes, recipes or guitar chords.
Highly recommended.
</p>
</div>
</div>

<div id="outline-container-orgab24ad1" class="outline-2">
<h2 id="orgab24ad1">Capture new ideas from your iPhone</h2>
<div class="outline-text-2" id="text-orgab24ad1">
<p>
In the first section we have described 3 problems but we still haven't solved the third:
</p>
<blockquote>
<ol class="org-ol">
<li>I am not good at capturing my tasks in this file during my day.</li>
</ol>
</blockquote>

<p>
I found a nice way to capture ideas from my iPhone.
That is achieved through the <a href="https://getdrafts.com">Drafts</a> app for iOS.
</p>

<p>
You can get an "action" for free called <a href="https://actions.getdrafts.com/a/1Pd">Org-mode capture</a>.
Once you set it up on your iPhone, you can write quick notes and send them to a file in Dropbox.
</p>

<p>
Unfortunately you can't edit the action template unless you pay for the premium tier of Drafts.
I am personally fine with leaving the default, which will write to <code>Notes/Test.inbox.org</code>.
I can just create symlink from <code>Notes</code> to my <code>org</code> folder in Dropbox.
I usually send a bunch of ideas during my day to my "mobile inbox" and then refile (<code>org-refile</code>)  them to appropriate headers.
</p>

<p>
This was the last trick, I hope you found the article useful!
If something was not clear, please leave a comment below.
</p>
</div>
</div>

    </div>
  </section>

  <section>
    <div id="hyvor-talk-view"></div>
    <hyvor-talk-comments website-id="793" page-id="org-gtd"></hyvor-talk-comments>
  </section>

  <!-- <div class="absolute top-[110vh] ltr:right-0 rtl:left-0 w-12 pointer-events-none bottom-[-5.5rem]"> -->
  <!--   <a href="#the-top" class="w-12 h-12 sticky pointer-events-auto top-[calc(100vh-5rem)] bg-neutral/50 dark:bg-neutral-800/50 backdrop-blur rounded-full text-xl flex items-center justify-center text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">↑</a> -->
  <!-- </div> -->

</article>

    </main>

    <footer class="py-10 print:hidden">
      
      <div class="flex justify-between">
  <div>
    <p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
      Luca Cambiaghi
    </p>
    <p class="text-xs text-neutral-500 dark:text-neutral-400">Theme inspired by
      <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://git.io/hugo-congo" target=_blank rel="noopener noreferrer">Congo</a>
    </p>
  </div>
  <div class="text-sm cursor-pointer text-neutral-700 dark:text-neutral hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-14 rtl:ml-14">
    <button id=appearance-switcher class="w-12 h-12" type=button title="Switch to dark appearance">
      <span class="inline dark:hidden"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></span><span class="hidden dark:inline"><span class="relative inline-block align-text-bottom icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></span></button></div></div>

      
    </footer>

  </body>
</html>
